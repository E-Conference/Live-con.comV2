<label>{{ !singleChoice ? "Categories" : "Category" }}</label>
<div>
  <div ng-if="!singleChoice">
    <span ng-repeat="entity in resource[parentField]  track by $index" class="tag label label-info">
        <span>{{ entity.label }}</span>
        <a ng-click="deleteEntity($index,entity)"><span class="fa fa-times"></span></a>
    </span>
  </div>
  <div ng-if="singleChoice && resource[parentField].label">
        <span class="tag label label-info">
        <span>{{ resource[parentField].label }}</span>
      </span>
  </div>
</div>

<ui-select ng-model="addedEntity" on-select="change($model)" ng-keyup="keyup($event)"  style="width: 100%;">
  <ui-select-match>Add a new event category...</ui-select-match>
  <ui-select-choices repeat="entity in entities">
    <!--<ui-select-choices repeat="entity.email as entity in people | propsFilter: {label: $select.search, age: $select.search}">-->
    <div ng-if="!entity.id ">
      Add a new event category...
    </div>
    <img class="img-circle" data-src="holder.js/140x140" alt="140x140" src="http://blog.getjobber.com/wp-content/uploads/2013/01/Users-Image.png" style="width: 70px; height: 70px;"/>
    <b ng-bind-html="entity.label | highlight: $select.search"></b>
  </ui-select-choices>
</ui-select>
<br/>